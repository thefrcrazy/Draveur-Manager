@use "../variables" as *;
@use "../mixins" as *;

// Server Metrics Chart Component
.server-metrics-chart {
    @include flex-column;
    gap: var(--spacing-4);
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-4);

    // Header with period selector and legend
    .metrics-header {
        @include flex-between;
        flex-wrap: wrap;
        gap: var(--spacing-3);

        .period-selector {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);

            label {
                font-size: var(--font-size-sm);
                color: var(--color-text-secondary);
                font-weight: 500;
            }

            select {
                padding: var(--spacing-2) var(--spacing-3);
                background-color: var(--color-bg-secondary);
                border: 1px solid var(--color-border);
                border-radius: var(--radius-md);
                color: var(--color-text-primary);
                font-size: var(--font-size-sm);
                cursor: pointer;
                transition: all var(--transition-fast);

                &:hover {
                    border-color: var(--color-border-hover);
                }

                &:focus {
                    border-color: var(--color-accent);
                    box-shadow: 0 0 0 1px var(--color-accent);
                }
            }
        }

        .legend {
            display: flex;
            gap: var(--spacing-4);

            .legend-item {
                display: flex;
                align-items: center;
                gap: var(--spacing-2);

                .legend-color {
                    width: 16px;
                    height: 4px;
                    border-radius: var(--radius-sm);
                }

                span:last-child {
                    font-size: var(--font-size-sm);
                    color: var(--color-text-secondary);
                }
            }
        }
    }

    // Chart container
    .chart-container {
        position: relative;
        width: 100%;
        height: 300px;
        background: var(--color-bg-primary);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-md);
        overflow: hidden;

        canvas {
            width: 100%;
            height: 100%;
        }

        .chart-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            @include flex-center;
            background: rgba(0, 0, 0, 0.85);

            span {
                padding: var(--spacing-2) var(--spacing-4);
                background: var(--color-bg-secondary);
                border: 1px solid var(--color-border);
                border-radius: var(--radius-md);
                color: var(--color-text-secondary);
                font-size: var(--font-size-sm);
            }
        }
    }

    // Current stats footer
    .current-stats {
        display: flex;
        justify-content: center;
        gap: var(--spacing-6);
        padding-top: var(--spacing-3);
        border-top: 1px solid var(--color-border);

        .stat {
            @include flex-column;
            align-items: center;
            gap: var(--spacing-1);

            .stat-label {
                font-size: var(--font-size-xs);
                color: var(--color-text-muted);
                text-transform: uppercase;
                letter-spacing: 0.05em;
            }

            .stat-value {
                font-size: var(--font-size-lg);
                font-weight: 600;
            }
        }

        @include mobile {
            gap: var(--spacing-4);

            .stat {
                .stat-value {
                    font-size: var(--font-size-base);
                }
            }
        }
    }
}